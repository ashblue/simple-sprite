!function(){var a={scale:1,_loaded:!1,debugId:"simple-sprite-image"},b={imageReady:function(){this.canvas.width=this.image.width*this.scale,this.canvas.height=this.image.height*this.scale,this.ctx.imageSmoothingEnabled=!1,this.ctx.webkitImageSmoothingEnabled=!1,this.ctx.mozImageSmoothingEnabled=!1,this.ctx.drawImage(this.image,0,0,this.canvas.width,this.canvas.height),this.callback(this)}},c=function(c,d){for(var e in a)this[e]=a[e];if("object"==typeof d)for(var e in d)this[e]=d[e];this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d");var f=document.getElementById("simple-sprite-image");f&&f.appendChild(this.canvas),"string"==typeof c?(this.image=new Image,this.image.onload=b.imageReady.bind(this),this.image.src=c):(this.image=c,b.imageReady.call(this))};window.SimpleSpriteSheet=c}(),function(){var a={scale:1,target:"canvas",speed:1,sequenceIndex:0,sequence:[0],frame:0,repeat:!1,flipX:!1,flipY:!1,_loaded:!1},b={imageReady:function(a){this.spriteSheet=a,this.frameWidth=this.spriteSheet.canvas.width/(this.width*this.scale),this.frameHeight=this.spriteSheet.canvas.height/(this.height*this.scale),this._loaded=!0,this.draw()}},c={setTransform:function(a){this.canvas.style.mozTransform=a,this.canvas.style.webkitTransform=a,this.canvas.style.transform=a}},d=function(c,d,e,f){for(var g in a)this[g]=a[g];if("object"==typeof f)for(var g in f)this[g]=f[g];"CANVAS"===this.target.nodeName?this.canvas=this.target:"string"==typeof this.target?(this.target=document.getElementById(this.target),"CANVAS"===this.target.nodeName?this.canvas=this.target:(this.canvas=document.createElement("canvas"),this.target.appendChild(canvas))):(this.canvas=document.createElement("canvas"),this.target.appendChild(canvas)),this.setCanvas(d,e,this.scale),this.ctx=this.canvas.getContext("2d"),this.ctx.webkitImageSmoothingEnabled=!1,this.ctx.mozImageSmoothingEnabled=!1,this.ctx.imageSmoothingEnabled=!1,new SimpleSpriteSheet(c,{scale:this.scale,callback:b.imageReady.bind(this)})};d.prototype.setCanvas=function(a,b,d){this.scale=d,this.width=a,this.height=b,this.canvas.width=this.width*this.scale,this.canvas.height=this.height*this.scale,this.flipX&&this.flipY?c.setTransform.apply(this,["scale(-1, -1)"]):this.flipX?c.setTransform.apply(this,["scale(-1, 1)"]):this.flipY&&c.setTransform.apply(this,["scale(1, -1)"])},d.prototype.draw=function(){if(this._loaded){this.ctx.clearRect(0,0,this.width*this.scale,this.height*this.scale);var a=this.frame%this.frameWidth,b=Math.floor(this.frame/this.frameWidth);this.ctx.drawImage(this.spriteSheet.canvas,this.width*this.scale*a,this.height*this.scale*b,this.width*this.scale,this.height*this.scale,0,0,this.width*this.scale,this.height*this.scale)}},d.prototype.update=function(){this.sequenceIndex>=this.sequence.length-1?this.repeat&&(this.sequenceIndex=0):this.sequenceIndex+=1,this.frame=this.sequence[this.sequenceIndex],this.draw()},d.prototype.setFrame=function(a){this.frame=a,this.draw()},d.prototype.rewind=function(){this.stop(),this.play()},d.prototype.play=function(){this.timer&&window.clearInterval(this.timer),this.frame=this.sequence[this.sequenceIndex],this.draw(),this.timer=window.setInterval(this.update.bind(this),1e3*this.speed)},d.prototype.stop=function(){this.timer&&window.clearInterval(this.timer),this.sequenceIndex=0,this.frame=this.sequence[this.sequenceIndex],this.draw()},d.prototype.pause=function(){this.timer&&window.clearInterval(this.timer)},window.SimpleSprite=d}();